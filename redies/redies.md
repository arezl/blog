 test123

在配置文件中配置requirepass的密码（当redis重启时密码依然有效）。

  redis 127.0.0.1:6379> config set requirepass test123

  查询密码：

  redis 127.0.0.1:6379> config get requirepass





 埋点很重要，性能指标、过程跟踪都要上，排查故障才能迅速定位。写程序的人一定要抱着不信任每一次IO的态度，添加足够的指标和日志。
排查故障的时候过早深入到代码不是一个好办法，容易钻到细节出不来，一定要梳理端到端的全过程，从整体到局部排查，千万不能反过来。 





一句话：埋点很重要，性能指标、过程跟踪都要上，排查故障才能迅速定位。写程序的人一定要抱着不信任每一次IO的态度，添加足够的指标和日志。
排查故障的时候过早深入到代码不是一个好办法，容易钻到细节出不来，一定要梳理端到端的全过程，从整体到局部排查，千万不能反过来。



 所有的scan和keys 都应该放到一个hash里面去,即使我多加个key放置 key-value 在循环出对应的key,也不应该放置scan和keys
2.所有的keys都应该有目的的去过期时间,比如专门设置一个db为非过期的,其他所有的表都应该设计过期,暴力的就是每天晚上遍历keys查询,没有的全部打日志,找责任人
3.在1对1的基本类型基础上,直接本地缓存,64位的string对应 64位value的关系,1g的内存基本上可以保存 1000W的数据关系,你这里的get类型完全可以放到内存,你就发现现在电脑的强大,真正的开销都是io开销,内存开销简直没有时间
4.连接池不要设置超过50,超过50后比你想象的慢,你才开始设置的8,已经满足正常程序的,我们当时测试超过80 后程序在压测下反而会降低,10-100之类差别都不大 